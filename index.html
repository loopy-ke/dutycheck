<!DOCTYPE html>
<html lang="en-KE" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KRA Car Import Duty Calculator 2025 — CarDuty Kenya</title>
  <meta name="description" content="Calculate your KRA car import duty instantly. Full step-by-step breakdown — not a black box. Verified against the official CRSP July 2025 list. 5,200+ vehicles." />
  <link rel="canonical" href="https://carduty.co.ke/" />

  <!-- Open Graph for WhatsApp/social previews -->
  <meta property="og:title"       content="KRA Car Import Duty Calculator — CarDuty Kenya" />
  <meta property="og:description" content="The only calculator that shows exactly how KRA calculates your duty. Official CRSP July 2025." />
  <meta property="og:url"         content="https://carduty.co.ke/" />
  <meta property="og:type"        content="website" />

  <script type="module" src="/src/main.js"></script>
</head>

<body class="bg-bg text-text min-h-screen transition-colors duration-200">

  <!-- ── Header ───────────────────────────────────────────────── -->
  <header class="bg-charcoal border-b border-border-2 sticky top-0 z-40">
    <div class="max-w-2xl mx-auto px-4 h-14 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-amber rounded-lg flex items-center justify-center flex-shrink-0">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 11h.01M12 11h.01M15 11h.01M4 19h16a2 2 0 002-2V7a2 2 0 00-2-2H4a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
        </div>
        <div class="leading-tight">
          <span class="font-bold text-white text-base tracking-tight">CarDuty</span>
          <span class="hidden sm:inline text-text-subtle text-xs ml-2">KRA Duty Calculator</span>
        </div>
      </div>

      <!-- Dark/light toggle -->
      <button id="theme-toggle" aria-label="Toggle theme"
        class="w-8 h-8 rounded-lg border border-border flex items-center justify-center text-text-muted hover:text-text hover:border-border-2 transition-colors">
        <!-- Sun (shown in dark mode) -->
        <svg id="icon-sun" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <!-- Moon (shown in light mode) -->
        <svg id="icon-moon" class="w-4 h-4 hidden" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- ── Hero ─────────────────────────────────────────────────── -->
  <div class="bg-charcoal border-b border-border-2">
    <div class="max-w-2xl mx-auto px-4 py-5">
      <h1 class="text-white text-lg font-bold leading-snug">
        KRA Import Duty Calculator
        <span class="inline-block ml-1.5 text-xs font-medium bg-amber/20 text-amber px-2 py-0.5 rounded-full align-middle">CRSP July 2025</span>
      </h1>
      <p class="text-text-muted text-sm mt-1 leading-relaxed">
        The only calculator that shows <strong class="text-white font-medium">exactly how KRA calculates your duty</strong> — step by step, verified against the official valuation template.
      </p>
    </div>
  </div>

  <main class="max-w-2xl mx-auto px-4 py-5 space-y-4">

    <!-- ── Step 1: Vehicle Type ──────────────────────────────── -->
    <section class="bg-surface border border-border rounded-2xl overflow-hidden">
      <div class="px-5 py-3.5 border-b border-border flex items-center gap-2.5">
        <span class="w-5 h-5 rounded-full bg-amber text-white text-xs font-bold flex items-center justify-center flex-shrink-0">1</span>
        <h2 class="font-semibold text-sm">Vehicle type</h2>
      </div>
      <div class="px-4 py-4">
        <div id="category-grid" class="grid grid-cols-3 gap-2 sm:grid-cols-4">
          <!-- rendered by JS -->
        </div>
      </div>
    </section>

    <!-- ── Step 2: Make ──────────────────────────────────────── -->
    <section id="step-make" class="hidden bg-surface border border-border rounded-2xl overflow-hidden fade-up">
      <div class="px-5 py-3.5 border-b border-border flex items-center gap-2.5">
        <span class="w-5 h-5 rounded-full bg-amber text-white text-xs font-bold flex items-center justify-center flex-shrink-0">2</span>
        <h2 class="font-semibold text-sm">Make</h2>
      </div>
      <div class="px-4 py-4">
        <select id="make-select"
          class="w-full px-4 py-3 rounded-xl border border-border bg-surface-2 text-text text-sm focus:outline-none focus:ring-2 focus:ring-amber focus:border-transparent transition-colors">
          <option value="">— Select make —</option>
        </select>
      </div>
    </section>

    <!-- ── Step 3: Model ─────────────────────────────────────── -->
    <section id="step-model" class="hidden bg-surface border border-border rounded-2xl overflow-hidden fade-up">
      <div class="px-5 py-3.5 border-b border-border flex items-center gap-2.5">
        <span class="w-5 h-5 rounded-full bg-amber text-white text-xs font-bold flex items-center justify-center flex-shrink-0">3</span>
        <h2 class="font-semibold text-sm">Model</h2>
      </div>
      <div class="px-4 py-4 space-y-3">
        <select id="model-select"
          class="w-full px-4 py-3 rounded-xl border border-border bg-surface-2 text-text text-sm focus:outline-none focus:ring-2 focus:ring-amber focus:border-transparent transition-colors">
          <option value="">— Select model —</option>
        </select>

        <!-- Selected vehicle pill -->
        <div id="vehicle-card" class="hidden bg-amber/10 border border-amber/30 rounded-xl px-4 py-3">
          <div class="flex items-start justify-between gap-3">
            <div class="min-w-0">
              <p class="font-bold text-sm text-text" id="vc-name"></p>
              <p class="text-text-muted text-xs mt-0.5 truncate" id="vc-meta"></p>
            </div>
            <div class="text-right flex-shrink-0">
              <p class="text-text-subtle text-xs">CRSP</p>
              <p class="font-bold text-amber text-sm" id="vc-crsp"></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ── Step 4: Year ──────────────────────────────────────── -->
    <section id="step-year" class="hidden bg-surface border border-border rounded-2xl overflow-hidden fade-up">
      <div class="px-5 py-3.5 border-b border-border flex items-center gap-2.5">
        <span class="w-5 h-5 rounded-full bg-amber text-white text-xs font-bold flex items-center justify-center flex-shrink-0">4</span>
        <h2 class="font-semibold text-sm">Year of manufacture</h2>
      </div>
      <div class="px-4 py-4 space-y-3">
        <div id="year-grid" class="grid grid-cols-4 gap-2 sm:grid-cols-5"></div>

        <div id="eight-year-notice" class="hidden bg-kra-red/10 border border-kra-red/30 rounded-xl px-4 py-3 text-sm text-kra-red">
          <strong>Cannot import.</strong> Kenya's 8-year rule blocks cars manufactured before
          <span id="cutoff-label"></span>. This vehicle is too old.
        </div>

        <div id="year-note" class="hidden bg-surface-2 rounded-xl px-4 py-2.5 text-xs text-text-muted">
          Age: <strong class="text-text" id="age-label"></strong>
          &nbsp;·&nbsp;
          Depreciation: <strong class="text-text" id="depr-label"></strong>
        </div>
      </div>
    </section>

    <!-- ── Calculate ─────────────────────────────────────────── -->
    <div id="calc-wrap" class="hidden">
      <button id="calc-btn"
        class="w-full py-4 rounded-2xl font-bold text-base bg-amber text-white hover:bg-amber-dark active:scale-[0.98] transition-all shadow-lg shadow-amber/20">
        Calculate KRA Duty →
      </button>
    </div>

    <!-- ── Results ───────────────────────────────────────────── -->
    <section id="results" class="hidden space-y-4 fade-up">

      <!-- Total banner -->
      <div class="bg-charcoal rounded-2xl px-5 py-6 border border-border-2">
        <p class="text-text-subtle text-xs uppercase tracking-widest mb-1">Total KRA Duty</p>
        <p class="text-3xl font-bold text-white" id="r-total"></p>
        <p class="text-text-muted text-xs mt-2" id="r-summary"></p>
      </div>

      <!-- Step-by-step breakdown -->
      <div class="bg-surface border border-border rounded-2xl overflow-hidden">
        <div class="px-5 py-3.5 border-b border-border">
          <h2 class="font-semibold text-sm">How KRA calculated this</h2>
          <p class="text-text-subtle text-xs mt-0.5">Every line matches the official KRA valuation template</p>
        </div>
        <div id="breakdown" class="divide-y divide-border"></div>
      </div>

      <!-- Landed cost note -->
      <div class="bg-surface border border-amber/20 rounded-2xl px-5 py-4">
        <p class="font-semibold text-sm mb-1">Duty only — not your full landed cost</p>
        <p class="text-text-muted text-xs leading-relaxed">
          Add: auction price · shipping (≈KES 80–150K) · insurance · port clearing (≈KES 30–60K) · NTSA registration · transport from Mombasa.
        </p>
      </div>

      <!-- Share + Recalculate -->
      <button id="share-btn"
        class="w-full flex items-center justify-center gap-2.5 py-3.5 rounded-2xl font-semibold text-sm bg-whatsapp text-white hover:opacity-90 active:scale-[0.98] transition-all">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/>
          <path d="M12 0C5.373 0 0 5.373 0 12c0 2.114.551 4.097 1.514 5.815L.057 23.886l6.224-1.634A11.945 11.945 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.793 9.793 0 01-5.006-1.374l-.36-.213-3.694.97.987-3.605-.234-.37A9.78 9.78 0 012.182 12C2.182 6.57 6.57 2.182 12 2.182S21.818 6.57 21.818 12 17.43 21.818 12 21.818z"/>
        </svg>
        Share via WhatsApp
      </button>

      <button id="recalc-btn"
        class="w-full py-3 rounded-2xl text-sm text-text-muted border border-border hover:bg-surface-2 transition-colors">
        ← Calculate another car
      </button>
    </section>

    <!-- ── Formula card ──────────────────────────────────────── -->
    <section class="bg-surface border border-border rounded-2xl px-5 py-4">
      <h3 class="font-semibold text-sm mb-3">The KRA formula</h3>
      <div class="bg-surface-2 border border-border rounded-xl px-4 py-3 font-mono text-xs text-text-muted space-y-1 leading-relaxed">
        <div>CRSP <span class="text-text-subtle">÷ 2.4469</span> = pre-depreciation value</div>
        <div>× (1 − depreciation) = <strong class="text-text">Customs Value (CV)</strong></div>
        <div class="border-t border-border pt-1.5 mt-1.5"></div>
        <div>CV × 25% = Import Duty</div>
        <div>(CV + ID) × 20% = Excise Duty</div>
        <div>(CV + ID + ED) × 16% = VAT</div>
        <div>CV × 2.25% = IDF <span class="text-text-subtle">(min KES 5,000)</span></div>
        <div>CV × 1.5% = RDL</div>
      </div>
    </section>

    <footer class="text-center text-xs text-text-subtle pb-8 space-y-1">
      <p>Data: KRA CRSP July 2025 · Rates: Finance Act 2025</p>
      <p>For guidance only. Verify with KRA or a licensed clearing agent.</p>
    </footer>

  </main>

</body>
</html>
